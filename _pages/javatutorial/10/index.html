<!DOCTYPE html>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<script type="module" src="/sofi/js/script.js"></script>
<link rel="stylesheet" href="/sofi/css/estil.css">

<nav></nav> 
<header>
    <h1>Mètodes</h1>
    <abstract>
        <p>        </p>
        <p>Aprendràs:</p>
        <check>A declarar <strong>mètodes</strong></check>
        <check>A invocar <strong>mètodes</strong> dels objectes</check>
    </abstract>
</header>

<!--Analogy, Diagram, Example, Plain English, Technical-->
<section>
    <h2>Mètodes</h2>

    <p>A més a més de variables, els objectes també poden tenir mètodes.</p>
    <p>Els mètodes, també anomenats <strong>funcions</strong>, són blocs de codi als quals els hi posem un nom.
    Ens permeten executar aquest codi des d'altres parts del programa, invocant-los pel seu nom. 
    Quan s'invoca un mètode, el programa salta al bloc de codi d'aquest mètode, i després retorna al lloc on
        s'havia invocat. Veiem un exemple:
    </p>

    <sc java>
        class Alumne {
            String nom;
        
            void saludar(){
                System.out.println("Hola");
                System.out.println("Que tal?");
            }
        }
        
        public class Main {
            public static void main(String[] args) {
        
                Alumne unAlumne = new Alumne();
        
                System.out.println("Ara farem una salutacio");
                unAlumne.saludar();
                System.out.println("Adeeeu");
            }
        }
    </sc>

    <p>El següent programa imprimirà:</p>

    <shell>
        Ara farem una salutacio
        Hola
        Que tal?
        Adeeeu
    </shell>

    <p>Quan hem invocat al mètode <w>saludar()</w> de l'objecte <w>unAlumne</w>, el fluxe d'execució ha saltat al bloc de codi
    d'aquest mètode, i en finalitzar a tornat al lloc des d'on s'havia invocat:
    </p>

    <img src="img/m1.png">

    <h3>Accés als camps de l'objecte</h3>

    <p>Els mètodes d'un objecte poden accedir als camps d'aquest objecte:</p>

    <sc java>
        class Alumne {
            String nom;
        
            void saludar(){
                System.out.println("Hola, em dic " + nom);
            }
        }
        
        public class Main {
            public static void main(String[] args) {
        
                Alumne unAlumne = new Alumne();
        
                unAlumne.nom = "Joan";
                unAlumne.saludar();
        
                Alumne unAltreAlumne = new Alumne();
        
                unAltreAlumne.nom = "Anna";
                unAltreAlumne.saludar();
            }
        }
    </sc>

    <shell>
        Hola, em dic Joan
        Hola, em dic Anna
    </shell>
    
    <img src="img/m2.png">

    <h3>Paràmetres i valor de retorn</h3>

    <p>Quan s'invoca un mètode es possible passar-li dades. El mètode ha de definir quins tipus de dades ha de rebre, 
        i quan s'invoca el mètode se li han de passar obligatòriament dades d'aquests tipus. 
        
        Un mètode també pot retornar dades al punt des d'on s'ha invocat. Les dades
        que  a un mètode s'anomenen <strong>paràmetres</strong>, i 
        les que retorna s'anomenen <strong>valor de retorn</strong>.
    </p>

    <p>Quan definim un mètode és necessari, doncs, especificar els seus paràmetres. És a dir, 
        els tipus de les dades que ha de rebre i donar un identificador a cadascuna d'aquestes dades.
    </p>

    <p>De la mateixa forma caldrà especificar el tipus de dada que retorna el mètode.</p>

    <p>Quan definim un mètode hem d'indicar en primer lloc el tipus de dada que retorna. A continuació el nom del mètode, i
        després la llista de paràmetres entre parèntesis <w>()</w>. Després ja ve el bloc d'instruccions del mètode entre claus <w>{}</w>
    </p>

    <sc java>
        TipusDelValorDeRetorn nomDelMetode(TipusDelParametre1 identificadorDelParametre1, ...) {
            // bloc d'instruccions
        }
    </sc>

    <p>Per exemple anem a definir un mètode al qual li passem un número i un total, i ens retorna el percentatge que 
        representa aquest número del total:</p>

    <sc java>
        class Calculadora {

            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }
    </sc>

    <p>La definició d'aquest mètode indica que quan s'invoqui, se li han de passar dos números <w>int</w>. 
        Les dues variables (<w>unitats</w> i <w>total</w>) que hem definit entre els parèntesis, tindràn el 
    valor que se li passi quan s'invoqui el mètode. També s'indica que el mètode retornarà un valor de tipus <w>float</w>.
    </p>

    <p>Podem invocar aquest mètode de la següent manera:</p>

    <sc java>
        <low>
        class Calculadora {
            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }

        public class Main {
            public static void main(String[] args){
                Calculadora calculadora = new Calculadora();</low>

                System.out.println( calculadora.calculaPercentatge(10, 20) );

                System.out.println( calculadora.calculaPercentatge(15, 20) );
        <low>
            }
        }</low>
    </sc>

    <p>A la primera invocació del mètode el paràmetre <w>unitats</w> rep el valor <w>10</w>, i el paràmetre <w>total</w>
    rep el valor <w>20</w>. El mètode retorna el valor <w>50.0</w>, i aquest valor és el que es passa al mètode println 
    per que l'imprimeixi.</p>

    <p>A la segona invocació del mètode el paràmetre <w>unitats</w> rep el valor <w>15</w>, i el paràmetre <w>total</w>
        rep el valor <w>20</w>. El mètode retorna el valor <w>75.0</w>, i aquest valor és el que es passa al mètode println 
        per que l'imprimeixi.</p>

    <p>En aquest codi hem passat el valor retornat pel mètode <w>calculaPercentatge()</w> directament al mètode <w>println()</w>.

        També es pot emmagatzemar el valor retornat per un mètode en una variable, per a ser utilitzat més endavant.
    </p>

    <sc java>
        <low>
        class Calculadora {
            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }

        public class Main {
            public static void main(String[] args){
                Calculadora calculadora = new Calculadora();</low>

                float percentatge = calculadora.calculaPercentatge(10, 20);

                if (percentatge > 50) {
                    System.out.println("El percentatge " + percentatge + " es majoria.")
                }
        <low>
            }
        }</low>
    </sc>

    <p>Es a dir, quan finalitzi un mètode, el seu valor de retorn serà utilitzat allà on s'ha invocat el mètode:</p>

    <sc java>
        <low>
        class Calculadora {
            float calculaPercentatge(int unitats, int total) {
                return unitats*100f/total;
            }
        }

        public class Main {
            public static void main(String[] args){
                Calculadora calculadora = new Calculadora();</low>

                if (calculadora.calculaPercentatge(10, 20) &lt; 10) {
                    System.out.println("El percentatge es molt baix.")
                }
        <low>
            }
        }</low>
    </sc>

    <h4>void</h4>

    <p>També es possible que un mètode no retorni cap valor, aleshores especificarem <w>void</w> com a tipus de retorn a la seva
    declaració:</p>

    <sc java>
        class Calculadora {
            float resultat;

            void calculaPercentatge(int unitats, int total){
                resultat = unitats*100f/total;
            }
        }

        <low>
        public class Main {
            public static void main(String[] args){</low>
                Calculadora calculadora = new Calculadora();
        
                calculadora.calculaPercentatge(10, 20);

                if (calculadora.resultat &lt; 10) {
                    System.out.println("El percentatge es molt baix.")
                }
        <low>
            }
        }</low>
    </sc>

</section>

<section>
    <h2>Variables primitives i de referència</h2>

    <p>Les variables en Java es classifiquen en "primitives" i "de referència".</p>

    <p>Les variables <strong>primitives</strong> són aquelles de tipus <w>int</w>, <w>float</w>, <w>boolean</w>, <w>char</w>, ... Per exemple:</p>

    <sc java>
        int unNumero;
        float unAltreNumero;
        
        // les variables 'unNumero' i 'unAltreNumero' són variables primitives.
    </sc>
    <p>Les variables <strong>de referència</strong> són aquelles les quals el seu tipus és un array o una classe. Per exemple:</p>

    <sc java>
        int[] unArrayDeNumeros;
        Alumne alumne;
        Alumne[] alumnes;

        // les variables 'unArrayDeNumeros', 'alumne' i 'alumnes' són variables de referència.
    </sc>
    
    <p>Les variables prmitives emmagatzemen el valor que se les assigna, mentre que les variables de referència emmgatzemen una 
        referència a l'objecte o array que se les assigna.
    </p>

    <sc java>
        int unNumero = 99;

        int[] tresNumeros = new int[3];

        class Alumne {
            int edat;
            float nota;
        }

        Alumne alumne = new Alumne();
    </sc>

    <img src="img/ref1.png">

    <p>La diferència entre emmagatzemar el valor o la referència s'observa quan assignem el valor d'una variable a un altra, 
        de forma directa amb <w>=</w>, o quan fem el pas de paràmetres a mètodes.
    </p>

    <p>Vejem què passa quan assignem una variable <strong>primitiva</strong> a una altra:</p>

    <stepper class="stepper2">
        <step>
            <explanation>
                 <img src="img/refb0.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                 <img src="img/refb0.png">
            </explanation>
            <sc java>
                int numA = <h>98 + 1</h>;
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refb1.png">
            </explanation>
            <sc java>
                <h>int numA = 98 + 1;</h>
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb2.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                <h>int numB = numA;</h>
        
                numB = 55;
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb3.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                <h>numB = 55;</h>
        
                System.out.println(numA);       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb4.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                numB = 55;
        
                <h>System.out.println(numA);</h>       // 99
                System.out.println(numB);       // 55
            </sc>
        </step>
        <step>
            <explanation>
                  <img src="img/refb4.png">
            </explanation>
            <sc java>
                int numA = 98 + 1;
        
                int numB = numA;
        
                numB = 55;
        
                System.out.println(numA);       // 99
                <h>System.out.println(numB);</h>       // 55
            </sc>
        </step>
        
    </stepper>
   
    <p>Vejem què passa quan assignem una variable <strong>de referència</strong> a una altra:</p>
    <stepper class="stepper2">
        <step>
            <explanation>
                <img src="img/refc0.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc0.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = <h>new Alumne()</h>;
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc1.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                <h>Alumne aluA = new Alumne();</h>
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc2.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                <h>aluA.nota = 10;</h>

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc3.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                <h>Alumne aluB = aluA;</h>
                aluB.nota = 5;

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc4.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                <h>aluB.nota = 5;</h>

                System.out.println(aluA.nota);
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc5.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                <h>System.out.println(aluA.nota);</h>
                System.out.println(aluB.nota);
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refc5.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                Alumne aluA = new Alumne();
                aluA.nota = 10;

                Alumne aluB = aluA;
                aluB.nota = 5;

                System.out.println(aluA.nota);
                <h>System.out.println(aluB.nota);</h>

            </sc>
        </step>
    </stepper>

    <p>Vejem què passa quan passem per paràmetre una variable <strong>primitiva</strong>:</p>

    <stepper class="stepper2">
        <step>
            <explanation>
                <img src="img/refd0.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(float parametreNota) {
                        parametreNota = 5;
                    }
                }

                float nota = 0;
                Professor unProfessor = new Professor();

                unProfessor.aprovar(nota);

                System.out.println(nota);  // 0
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refd0.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(float parametreNota) {
                        parametreNota = 5;
                    }
                }

                <h>float nota = 0;</h>
                Professor unProfessor = new Professor();

                unProfessor.aprovar(nota);

                System.out.println(nota);  // 0
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refd1.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(float parametreNota) {
                        parametreNota = 5;
                    }
                }

                float nota = 0;
                Professor unProfessor = <h>new Professor()</h>;

                unProfessor.aprovar(nota);

                System.out.println(nota);  // 0
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refd2.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(float parametreNota) {
                        parametreNota = 5;
                    }
                }

                float nota = 0;
                <h>Professor unProfessor = new Professor();</h>

                unProfessor.aprovar(nota);

                System.out.println(nota);  // 0
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refd3.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(float parametreNota) {
                        parametreNota = 5;
                    }
                }

                float nota = 0;
                Professor unProfessor = new Professor();

                <h>unProfessor.aprovar(nota);</h>

                System.out.println(nota);  // 0
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refd3.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(<h>float parametreNota</h>) {
                        parametreNota = 5;
                    }
                }

                float nota = 0;
                Professor unProfessor = new Professor();

                unProfessor.aprovar(nota);

                System.out.println(nota);  // 0
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refd4.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(float parametreNota) {
                        <h>parametreNota = 5;</h>
                    }
                }

                float nota = 0;
                Professor unProfessor = new Professor();

                unProfessor.aprovar(nota);

                System.out.println(nota);  // 0
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refd5.png">
            </explanation>
            <sc java>
                class Professor {
                    void aprovar(float parametreNota) {
                        parametreNota = 5;
                    }
                }

                float nota = 0;
                Professor unProfessor = new Professor();

                unProfessor.aprovar(nota);

                <h>System.out.println(nota);</h>  // 0
            </sc>
        </step>
    </stepper>
    <p>Vejem què passa quan passem per paràmetre una variable <strong>de referència</strong>:</p>

    <stepper class="stepper2" style="--sc-h:5; --mm-h:0; --sh-h:0; --ex-h:17; --sc-w:20;    --sc-mh:5; --mm-mh:1; --sh-mh:7; --ex-mh:1;">
        <step>
            <explanation>
                <img src="img/refa2.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        parametreAlumne.nota = 5;
                    }
                }

                Alumne unAlumne = new Alumne();
                Professor unProfessor = new Professor();

                unProfessor.aprovar(unAlumne);

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa2.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        parametreAlumne.nota = 5;
                    }
                }

                Alumne unAlumne = <h>new Alumne()</h>;
                Professor unProfessor = new Professor();

                unProfessor.aprovar(unAlumne);

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa3.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        parametreAlumne.nota = 5;
                    }
                }

                <h>Alumne unAlumne = new Alumne()</h>;
                Professor unProfessor = new Professor();

                unProfessor.aprovar(unAlumne);

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa4.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        parametreAlumne.nota = 5;
                    }
                }

                Alumne unAlumne = new Alumne();
                Professor unProfessor = <h>new Professor()</h>;

                unProfessor.aprovar(unAlumne);

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa5.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        parametreAlumne.nota = 5;
                    }
                }

                Alumne unAlumne = new Alumne();
                <h>Professor unProfessor = new Professor()</h>;

                unProfessor.aprovar(unAlumne);

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa6.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        parametreAlumne.nota = 5;
                    }
                }

                Alumne unAlumne = new Alumne();
                Professor unProfessor = new Professor();

                <h>unProfessor.aprovar(unAlumne);</h>

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa6.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(<h>Alumne parametreAlumne</h>) {
                        parametreAlumne.nota = 5;
                    }
                }

                Alumne unAlumne = new Alumne();
                Professor unProfessor = new Professor();

                unProfessor.aprovar(unAlumne);

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa7.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        <h>parametreAlumne.nota = 5</h>;
                    }
                }

                Alumne unAlumne = new Alumne();
                Professor unProfessor = new Professor();

                unProfessor.aprovar(unAlumne);

                System.out.println(unAlumne.nota);  // 5
            </sc>
        </step>
        <step>
            <explanation>
                <img src="img/refa8.png">
            </explanation>
            <sc java>
                class Alumne {
                    float nota;
                }

                class Professor {
                    void aprovar(Alumne parametreAlumne) {
                        parametreAlumne.nota = 5;
                    }
                }

                Alumne unAlumne = new Alumne();
                Professor unProfessor = new Professor();

                unProfessor.aprovar(unAlumne);

                <h>System.out.println(unAlumne.nota);</h>  // 5
            </sc>
        </step>
    </stepper>

</section>

<!--
<section>

    <challenge>
        <a href="https://www.hackerrank.com/contests/dam-m3/challenges/definir-la-classe-comptecorrent">Definir la classe CompteCorrent</a>
        
    </challenge>
</section>-->