
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Navigation</title>
  <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="stylesheet" href="//fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://storage.googleapis.com/codelab-elements/codelab-elements.css">
  <style>
    .success {
      color: #1e8e3e;
    }
    .error {
      color: red;
    }
  </style>
</head>
<body>
  <google-codelab-analytics gaid="UA-49880327-14"></google-codelab-analytics>
  <google-codelab codelab-gaid=""
                  id="navigation"
                  title="Navigation"
                  environment="web"
                  feedback-link="/dam-m8">
    
      <google-codelab-step label="Navigation" duration="0">
        <p>El componente <a href="https://developer.android.com/guide/navigation/navigation-ui" target="_blank">Navigation</a> incluye una clase NavigationUI. Esta clase contiene métodos estáticos que administran la navegación con la barra de la app superior, el panel lateral de navegación y la navegación inferior.</p>
<p class="image-container"><img style="width: 708.00px" src="img/1736345fcbad40b0.png"></p>
<h3 is-upgraded><a href="https://github.com/gerardfp/navigation" target="_blank">https://github.com/gerardfp/navigation</a></h3>
<p class="image-container"><img style="width: 242.00px" src="img/b5f2a56cccf01234.gif"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea el proyecto (Opcion A)" duration="0">
        <p>Selecciona &#34;<strong>Navigation Drawer Activity</strong>&#34; como plantilla para la MainActivity</p>
<p class="image-container"><img style="width: 215.00px" src="img/30ec88e5006b7d7a.png"></p>
<h2 is-upgraded>Elimina el código de ejemplo que se crea con la plantilla</h2>
<p>Al crear la MainActivity con la plantilla &#34;<strong>Navigation Drawer Activity</strong>&#34; se crean una serie de fragments de ejemplo (<em>home, gallery, send, share, slideshow, tools,</em> ...). Eliminemos todo ese codigo:</p>
<ol type="1" start="1">
<li>Elimina el pakage <sc>ui</sc>:<br><br><img style="width: 344.00px" src="img/46ce3f627cc15140.gif"><br><br><br></li>
<li>Elimina el layout de los fragments (<sc>res/layout/fragment*</sc>):<br><br><img style="width: 344.00px" src="img/6a44d14877a6ee81.gif"><br><br><br></li>
<li>Elimina los ítems del menú (<sc>res/menu/activity_main_drawer.xml</sc>):<br><br><img style="width: 724.00px" src="img/b0e0e36e2f5d87f.gif"><br><br><br></li>
<li>Borra los elementos del grafo de navegación (<sc>res/navigation/mobile_navigation.xml</sc>):<br><br><img style="width: 736.40px" src="img/6d1847d6d7f859b6.gif"><br></li>
<li>Borra los strings de los títulos de los fragments (<sc>res/values/strings.xml</sc>):<br><br><img style="width: 736.40px" src="img/fa7cc29371185f11.gif"></li>
<li>Borra las &#34;top level destinations&#34; del archivo <sc>MainActivity.java</sc>:<br></li>
</ol>
<p class="image-container"><img style="width: 736.40px" src="img/ae51a5dc0775b15b.gif"></p>


      </google-codelab-step>
    
      <google-codelab-step label="Crea el proyecto (Opcion B)" duration="0">
        <p>Selecciona &#34;<strong>Empty Activity</strong>&#34; como plantilla para la MainActivity</p>
<p>Añade las dependencias para incluir el soporte Navigation</p>
<pre><sc>dependencies {
implementation &#39;com.google.android.material:material:1.0.0&#39;

implementation &#39;androidx.navigation:navigation-fragment:2.1.0&#39;
implementation &#39;androidx.navigation:navigation-ui:2.1.0&#39;
}</sc></pre>
<ol type="1" start="1">
<li>Crea el grafo de navegacion (<sc>res/navigation/mobile_navigation.xml</sc>):<br><br><img style="width: 491.00px" src="img/50ed28344aad9418.png"></li>
<li>Crea el archivo de menu para el Drawer (<sc>res/menu/activity_main_drawer.xml</sc>):<br><br><img style="width: 491.00px" src="img/b50dcc0268531c4e.png"><br></li>
<li>Crea el archivo de menu para el OptionsMenu (<sc>res/menu/main.xml</sc>):<br><br><img style="width: 491.00px" src="img/93b243bbe3fd7edc.png"><br></li>
<li>Crea el archivo de layout para la cabecera del Drawer (<sc>res/layout/nav_header_main</sc>):<br><br><img style="width: 491.00px" src="img/3b87eacadcef691.png"><br></li>
<li>Añade los siguientes estilos al fichero <sc>res/values/styles.xml</sc>:<br></li>
</ol>
<pre><sc>&lt;style name=&#34;AppTheme.NoActionBar&#34;&gt;
   &lt;item name=&#34;windowActionBar&#34;&gt;false&lt;/item&gt;
   &lt;item name=&#34;windowNoTitle&#34;&gt;true&lt;/item&gt;
&lt;/style&gt;

&lt;style name=&#34;AppTheme.AppBarOverlay&#34; parent=&#34;ThemeOverlay.AppCompat.Dark.ActionBar&#34; /&gt;

&lt;style name=&#34;AppTheme.PopupOverlay&#34; parent=&#34;ThemeOverlay.AppCompat.Light&#34; /&gt;</sc></pre>
<ol type="1" start="6">
<li>Añade el siguiente atributo a la <em>MainActivity</em> en el fichero <sc>AndroidManifest.xml</sc>:<br></li>
</ol>
<pre><sc>android:theme=&#34;@style/AppTheme.NoActionBar&#34;</sc></pre>
<p><br>Debe quedar algo así:<br></p>
<pre><sc>&lt;activity
   android:name=&#34;.MainActivity&#34;
   android:theme=&#34;@style/AppTheme.NoActionBar&#34;&gt;
   &lt;intent-filter&gt;
       &lt;action android:name=&#34;android.intent.action.MAIN&#34; /&gt;

       &lt;category android:name=&#34;android.intent.category.LAUNCHER&#34; /&gt;
   &lt;/intent-filter&gt;
&lt;/activity&gt;</sc></pre>
<ol type="1" start="7">
<li>Modifica el archivo de layout de la MainActivity (<sc>res/layout/activity_main.xml</sc>) para añadir la <strong>Toolbar</strong>, el <strong>NavigationView</strong> (<em>Drawer</em>) y el <strong>NavHost</strong>:<br><br></li>
</ol>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;androidx.drawerlayout.widget.DrawerLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
   xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
   xmlns:tools=&#34;http://schemas.android.com/tools&#34;
   android:id=&#34;@+id/drawer_layout&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;match_parent&#34;
   android:fitsSystemWindows=&#34;true&#34;
   tools:openDrawer=&#34;start&#34;&gt;

   &lt;androidx.coordinatorlayout.widget.CoordinatorLayout
       android:layout_width=&#34;match_parent&#34;
       android:layout_height=&#34;match_parent&#34;
       tools:context=&#34;.MainActivity&#34;&gt;

       &lt;com.google.android.material.appbar.AppBarLayout
           android:layout_width=&#34;match_parent&#34;
           android:layout_height=&#34;wrap_content&#34;
           android:theme=&#34;@style/AppTheme.AppBarOverlay&#34;&gt;

           &lt;androidx.appcompat.widget.Toolbar
               android:id=&#34;@+id/toolbar&#34;
               android:layout_width=&#34;match_parent&#34;
               android:layout_height=&#34;?attr/actionBarSize&#34;
               android:background=&#34;?attr/colorPrimary&#34;
               app:popupTheme=&#34;@style/AppTheme.PopupOverlay&#34; /&gt;
       &lt;/com.google.android.material.appbar.AppBarLayout&gt;

       &lt;androidx.constraintlayout.widget.ConstraintLayout
           android:layout_width=&#34;match_parent&#34;
           android:layout_height=&#34;match_parent&#34;
           app:layout_behavior=&#34;@string/appbar_scrolling_view_behavior&#34;&gt;

           &lt;fragment
               android:id=&#34;@+id/nav_host_fragment&#34;
               android:name=&#34;androidx.navigation.fragment.NavHostFragment&#34;
               android:layout_width=&#34;match_parent&#34;
               android:layout_height=&#34;match_parent&#34;
               app:defaultNavHost=&#34;true&#34;
               app:layout_constraintLeft_toLeftOf=&#34;parent&#34;
               app:layout_constraintRight_toRightOf=&#34;parent&#34;
               app:layout_constraintTop_toTopOf=&#34;parent&#34;
               app:navGraph=&#34;@navigation/mobile_navigation&#34; /&gt;

       &lt;/androidx.constraintlayout.widget.ConstraintLayout&gt;

   &lt;/androidx.coordinatorlayout.widget.CoordinatorLayout&gt;

   &lt;com.google.android.material.navigation.NavigationView
       android:id=&#34;@+id/nav_view&#34;
       android:layout_width=&#34;wrap_content&#34;
       android:layout_height=&#34;match_parent&#34;
       android:layout_gravity=&#34;start&#34;
       android:fitsSystemWindows=&#34;true&#34;
       app:headerLayout=&#34;@layout/nav_header_main&#34;
       app:menu=&#34;@menu/activity_main_drawer&#34; /&gt;

&lt;/androidx.drawerlayout.widget.DrawerLayout&gt;</sc></pre>
<ol type="1" start="8">
<li>Añade el siguiente código a la <sc>MainActivity.java</sc> para configurar la Toolbar y el NavigationView (<em>Drawer</em>):<br></li>
</ol>
<pre><sc>import android.os.Bundle;
import android.view.Menu;

import com.google.android.material.navigation.NavigationView;

import androidx.appcompat.app.AppCompatActivity;
import androidx.appcompat.widget.Toolbar;
import androidx.drawerlayout.widget.DrawerLayout;
import androidx.navigation.NavController;
import androidx.navigation.Navigation;
import androidx.navigation.ui.AppBarConfiguration;
import androidx.navigation.ui.NavigationUI;

public class MainActivity extends AppCompatActivity {

   private AppBarConfiguration mAppBarConfiguration;

   @Override
   protected void onCreate(Bundle savedInstanceState) {
       super.onCreate(savedInstanceState);
       setContentView(R.layout.activity_main);

       Toolbar toolbar = findViewById(R.id.toolbar);
       setSupportActionBar(toolbar);

       DrawerLayout drawer = findViewById(R.id.drawer_layout);
       NavigationView navigationView = findViewById(R.id.nav_view);

       mAppBarConfiguration = new AppBarConfiguration.Builder()
               .setDrawerLayout(drawer)
               .build();
       NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);
       NavigationUI.setupActionBarWithNavController(this, navController, mAppBarConfiguration);
       NavigationUI.setupWithNavController(navigationView, navController);
   }

   @Override
   public boolean onCreateOptionsMenu(Menu menu) {
       getMenuInflater().inflate(R.menu.main, menu);
       return true;
   }

   @Override
   public boolean onSupportNavigateUp() {
       NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);
       return NavigationUI.navigateUp(navController, mAppBarConfiguration)
               || super.onSupportNavigateUp();
   }
}</sc></pre>


      </google-codelab-step>
    
      <google-codelab-step label="NavigationView (Drawer)" duration="0">
        <p>Añadiremos tres Destinaciones (Fragments)  al grafo de navegacion <sc>res/navigation/mobile_navigation.xml</sc>:</p>
<p>Llamaremos a estas destinaciones: <sc>Drawer1Fragment</sc>, <sc>Drawer2Fragment</sc>, <sc>Drawer3Fragment</sc></p>
<p class="image-container"><img style="width: 404.00px" src="img/6801bec15dfcf8a6.png"></p>
<p class="image-container"><img style="width: 480.00px" src="img/cb6088f322c29ddc.png"></p>
<p class="image-container"><img style="width: 710.00px" src="img/89b81dcebdcd09db.png"></p>
<p>Haremos que las tres destinaciones (fragments) que hemos creado, sean accesibles desde el <sc>NavigationView</sc> (<em>Drawer</em>)</p>
<ol type="1" start="1">
<li>Añade los items al menu del drawer <sc>res/menu/activity_main_drawer.xml</sc>:<br></li>
</ol>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;menu xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;&gt;

   &lt;item
       android:id=&#34;@+id/drawer1Fragment&#34;
       android:title=&#34;Drawer 1&#34; /&gt;

   &lt;item
       android:id=&#34;@+id/drawer2Fragment&#34;
       android:title=&#34;Drawer 2&#34; /&gt;

   &lt;item
       android:id=&#34;@+id/drawer3Fragment&#34;
       android:title=&#34;Drawer 3&#34; /&gt;
&lt;/menu&gt;</sc></pre>
<aside class="warning"><p>Los <sc>id</sc> de los items del menu tienen que coincidir con el <sc>id</sc> de las destinaciones</p>
</aside>
<ol type="1" start="1">
<li>En el archivo <sc>MainActivity.java</sc>, establece en la configuracion de la AppBar las destinaciones que serán &#34;Top Level&#34;:<br></li>
</ol>
<pre><sc>mAppBarConfiguration = new AppBarConfiguration.Builder(
       R.id.drawer1Fragment, R.id.drawer2Fragment
)
       .setDrawerLayout(drawer)
       .build();</sc></pre>
<aside class="special"><p>En las destinaciones Top Level se mostrará el icono de acceso al menu <img style="width: 32.00px" src="img/12f0f52cb2cca07e.png"> en la AppBar</p>
<p>En las que no sean top level, se mostrará la flecha de volver <img style="width: 29.00px" src="img/8daaf9d2048aa14b.png"></p>
</aside>
<ol type="1" start="2">
<li><em>Opcionalmente </em><strong>diseña </strong>una cabecera para el Drawer (<sc>res/layout/nav_header_main.xml</sc>):<br></li>
</ol>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;LinearLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
   xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;wrap_content&#34;
   android:gravity=&#34;center&#34;
   android:orientation=&#34;vertical&#34;&gt;

   &lt;ImageView
       android:id=&#34;@+id/imageView&#34;
       android:layout_width=&#34;wrap_content&#34;
       android:layout_height=&#34;wrap_content&#34;
       android:paddingTop=&#34;48dp&#34;
       app:srcCompat=&#34;@mipmap/ic_launcher_round&#34; /&gt;

   &lt;TextView
       android:layout_width=&#34;wrap_content&#34;
       android:layout_height=&#34;wrap_content&#34;
       android:paddingTop=&#34;8dp&#34;
       android:text=&#34;Android is&#34; /&gt;

   &lt;TextView
       android:id=&#34;@+id/textView&#34;
       android:layout_width=&#34;wrap_content&#34;
       android:layout_height=&#34;wrap_content&#34;
       android:textSize=&#34;24sp&#34;
       android:textStyle=&#34;bold&#34;
       android:text=&#34;HARD&#34; /&gt;

&lt;/LinearLayout&gt;</sc></pre>
<p>Debería quedar esta app:</p>
<p class="image-container"><img style="width: 239.00px" src="img/92b558f10e9189d7.gif"></p>
<aside class="special"><p>Observa cómo en destinacion <sc>drawer3Fragment</sc> se muestra la flecha de volver <img style="width: 29.00px" src="img/8daaf9d2048aa14b.png">, ya que no la hemos puesto como Top Level Destination.</p>
</aside>


      </google-codelab-step>
    
      <google-codelab-step label="BottomNavigationView" duration="0">
        <p>Añadiremos tres nuevas destinaciones que serán accesibles desde el <strong>BottomViewNavigation</strong>.<br><br>Las llamaremos <sc>Bottom1Fragment</sc>, <sc>Bottom2Fragment</sc> y <sc>Bottom3Fragment</sc>:</p>
<p>Como paso previo, crea estas 3 destinaciones:</p>
<p class="image-container"><img style="width: 383.00px" src="img/891922c0d3e6d971.png"><br></p>
<ol type="1" start="1">
<li>Crea el archivo de menu para el BottomNavigationView (<sc>res/menu/bottom_nav_menu.xml</sc>):<br></li>
</ol>
<p><img style="width: 491.00px" src="img/b82318d502c3608a.png"><br><br>Añade los 3 items al menu, para cada una de las destinaciones (<strong>el </strong><strong><sc>id</sc></strong><strong> del item debe coincidir con el </strong><strong><sc>id</sc></strong><strong> de la destinación</strong>):<br></p>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;menu xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;&gt;
   &lt;item
       android:id=&#34;@+id/bottom1Fragment&#34;
       android:title=&#34;Bottom 1&#34; /&gt;
   &lt;item
       android:id=&#34;@+id/bottom2Fragment&#34;
       android:title=&#34;Bottom 2&#34; /&gt;
   &lt;item
       android:id=&#34;@+id/bottom3Fragment&#34;
       android:title=&#34;Bottom 3&#34; /&gt;
&lt;/menu&gt;</sc></pre>
<ol type="1" start="2">
<li>Añade el elemento <strong>BottomNavigationView</strong> al layout de la MainActivity (<sc>res/layout/activity_main.xml</sc>):<br><br>Es importante que lo añadas <strong>justo antes</strong> del NavHostFragment<br></li>
</ol>
<pre><sc>&lt;com.google.android.material.bottomnavigation.BottomNavigationView
   android:id=&#34;@+id/bottom_nav_view&#34;
   android:layout_width=&#34;0dp&#34;
   android:layout_height=&#34;wrap_content&#34;
   android:layout_marginStart=&#34;0dp&#34;
   android:layout_marginEnd=&#34;0dp&#34;
   android:background=&#34;?android:attr/windowBackground&#34;
   app:layout_constraintBottom_toBottomOf=&#34;parent&#34;
   app:layout_constraintLeft_toLeftOf=&#34;parent&#34;
   app:layout_constraintRight_toRightOf=&#34;parent&#34;
   app:menu=&#34;@menu/bottom_nav_menu&#34; /&gt;</sc></pre>
<ol type="1" start="3">
<li>Configura el BottomNavigationView en la <sc>MainActivity.java</sc>:<br><br>Añade al final del metodo <sc>onCreate()</sc> el siguiente código:<br></li>
</ol>
<pre><sc>BottomNavigationView bottomNavView = findViewById(R.id.bottom_nav_view);
NavigationUI.setupWithNavController(bottomNavView, navController);</sc></pre>
<p><br>Opcionalmente, configura estas 3 destinaciones como &#34;Top Level&#34;:<br></p>
<pre><sc>mAppBarConfiguration = new AppBarConfiguration.Builder(
       R.id.drawer1Fragment, R.id.drawer2Fragment,
       R.id.bottom1Fragment, R.id.bottom2Fragment, R.id.bottom3Fragment
)
       .setDrawerLayout(drawer)
       .build();</sc></pre>
<ol type="1" start="4">
<li>Opcionalmente, añade unos iconos en cada item del menu del BottomNavigationView (<sc>res/menu/bottom_nav_menu.xml</sc>):<br></li>
</ol>
<aside class="special"><p>Puedes seleccionar los que ya vienen por defecto, añadir tus propios iconos en la carpeta <sc>drawable</sc>, o hacer lo siguiente:<br><br><img style="width: 674.00px" src="img/52958b27be1467ae.gif"></p>
</aside>
<p><br>Establece los iconos a los items:<br></p>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;menu xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;&gt;
   &lt;item
       android:id=&#34;@+id/bottom1Fragment&#34;
       android:icon=&#34;@drawable/ic_favorite_black_24dp&#34;
       android:title=&#34;Bottom 1&#34; /&gt;
   &lt;item
       android:id=&#34;@+id/bottom2Fragment&#34;
       android:icon=&#34;@drawable/ic_favorite_black_24dp&#34;
       android:title=&#34;Bottom 2&#34; /&gt;
   &lt;item
       android:id=&#34;@+id/bottom3Fragment&#34;
       android:icon=&#34;@drawable/ic_favorite_black_24dp&#34;
       android:title=&#34;Bottom 3&#34; /&gt;
&lt;/menu&gt;</sc></pre>
<p>Debería quedar así:</p>
<p class="image-container"><img style="width: 241.00px" src="img/210b969c741e1b5.gif"></p>


      </google-codelab-step>
    
      <google-codelab-step label="OptionsMenu" duration="0">
        <p>Añadiremos tres nuevas destinaciones que serán accesibles desde el <strong>Options Menu</strong>.<br><br>Las llamaremos <sc>Options1Fragment</sc>, <sc>Options2Fragment</sc> y <sc>Options3Fragment</sc>:</p>
<p>Crea estas 3 destinaciones:</p>
<ol type="1" start="1">
<li>Añade los ítems al Options Menu (<sc>res/menu/main.xml</sc>):<br></li>
</ol>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;menu xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;&gt;
   &lt;item
       android:id=&#34;@+id/options1Fragment&#34;
       android:icon=&#34;@drawable/ic_favorite_black_24dp&#34;
       android:title=&#34;Options 1&#34; /&gt;
   &lt;item
       android:id=&#34;@+id/options2Fragment&#34;
       android:icon=&#34;@drawable/ic_favorite_black_24dp&#34;
       android:title=&#34;Options 2&#34; /&gt;
   &lt;item
       android:id=&#34;@+id/options3Fragment&#34;
       android:icon=&#34;@drawable/ic_favorite_black_24dp&#34;
       android:title=&#34;Options 3&#34; /&gt;
&lt;/menu&gt;</sc></pre>
<ol type="1" start="2">
<li>Configura la navegación del Options Menu en la <sc>MainActivity.java</sc>:<br><br>Añade el siguiente callback a la clase <sc>MainActivity</sc>:<br></li>
</ol>
<pre><sc>@Override
public boolean onOptionsItemSelected(MenuItem item) {
   NavController navController = Navigation.findNavController(this, R.id.nav_host_fragment);
   return NavigationUI.onNavDestinationSelected(item, navController)
           || super.onOptionsItemSelected(item);
}</sc></pre>
<ol type="1" start="3">
<li><em>Opcionalmente </em>añade estas destinaciones como Top Level:<br></li>
</ol>
<pre><sc>mAppBarConfiguration = new AppBarConfiguration.Builder(
       R.id.drawer1Fragment, R.id.drawer2Fragment,
       R.id.bottom1Fragment, R.id.bottom2Fragment, R.id.bottom3Fragment,
       R.id.options1Fragment, R.id.options2Fragment, R.id.options3Fragment
)
       .setDrawerLayout(drawer)
       .build();</sc></pre>
<p>Debería quedar así:</p>
<p class="image-container"><img style="width: 241.00px" src="img/3ea1eb038ef16119.gif"></p>


      </google-codelab-step>
    
      <google-codelab-step label="TabLayout y ViewPager" duration="0">
        <p class="image-container"><img style="width: 698.47px" src="img/140dfb6612d40aca.png"></p>
<p class="image-container"><img style="width: 698.47px" src="img/1803c82dfe8e44d1.png"></p>
<p>A modo de ejemplo, añadiremos en el fragment <sc>Bottom2Fragment</sc> un TabLayout y un ViewPager. También crearemos dos fragments (<sc>PageAFragment</sc> y <sc>PageBFragment</sc>) que se mostraran en el ViewPager.</p>
<p>El primer paso será crear los dos fragments <sc>PageAFragment</sc> y <sc>PageBFragment</sc>.</p>
<p class="image-container"><img style="width: 203.00px" src="img/cf85da448f5c2fc6.png"></p>
<h2 is-upgraded>ViewPager</h2>
<p>Empezaremos con el ViewPager, este se encargará de mostrar bien el <sc>PageAFragment</sc> o el  <sc>PageBFragment</sc>. El usuario navegará entre uno y otro haciendo <em>SWIPE</em>.</p>
<ol type="1" start="1">
<li>Añade el <strong>ViewPager</strong> al layout del fragment padre (<sc>res/layout/fragment_bottom2.xml</sc>):<br></li>
</ol>
<pre><sc>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34;?&gt;
&lt;FrameLayout xmlns:android=&#34;http://schemas.android.com/apk/res/android&#34;
   xmlns:tools=&#34;http://schemas.android.com/tools&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;match_parent&#34;
   xmlns:app=&#34;http://schemas.android.com/apk/res-auto&#34;
   tools:context=&#34;.Bottom2Fragment&#34;&gt;

   &lt;androidx.viewpager.widget.ViewPager
       android:id=&#34;@+id/viewPager&#34;
       android:layout_width=&#34;match_parent&#34;
       android:layout_height=&#34;wrap_content&#34;/&gt;

&lt;/FrameLayout&gt;</sc></pre>
<ol type="1" start="2">
<li>Crea el PagerAdapter en el fichero <sc>Bottom2Fragment.java</sc>:<br><br><img style="width: 729.00px" src="img/a062302b4361811b.gif"><br></li>
</ol>
<pre><sc>class DemoPagerAdapter extends FragmentPagerAdapter {

   public DemoPagerAdapter(@NonNull FragmentManager fm, int behavior) {
       super(fm, behavior);
   }

   @NonNull
   @Override
   public Fragment getItem(int position) {
       return null;
   }

   @Override
   public int getCount() {
       return 0;
   }
}</sc></pre>
<ul>
<li>En el método <sc>getItem()</sc> se debe retornar una instancia del Fragment que se debe mostrar en la posicion determinada por el parámetro position.<br><br>En nuestro caso en la posición <sc>0</sc> va el PageAFragment, y en la posición <sc>1</sc> va el PageBFragment</li>
<li>En el método <sc>getCount()</sc> se debe retornar cuántos fragments hay en total. En nuestro caso <sc>2</sc>.</li>
</ul>
<p><br>El PagerAdapter queda finalmente así:</p>
<pre><sc>class DemoPagerAdapter extends FragmentPagerAdapter {

   public DemoPagerAdapter(@NonNull FragmentManager fm, int behavior) {
       super(fm, behavior);
   }

   @NonNull
   @Override
   public Fragment getItem(int position) {
       if(position == 0) return new PageAFragment();
       return new PageBFragment();
   }

   @Override
   public int getCount() {
       return 2;
   }
}</sc></pre>
<ol type="1" start="3">
<li>Establece el Adaptador al ViewPager:<br><br>Añade al método <sc>onCreateView()</sc> el siguiente código:<br></li>
</ol>
<pre><sc>ViewPager viewPager = view.findViewById(R.id.viewPager);
viewPager.setAdapter(new DemoPagerAdapter(getChildFragmentManager(), FragmentPagerAdapter.BEHAVIOR_RESUME_ONLY_CURRENT_FRAGMENT));</sc></pre>
<p>Debería quedar así:</p>
<p class="image-container"><img style="width: 242.00px" src="img/b2eb8211da75ce38.gif"></p>
<h2 is-upgraded>TabLayout</h2>
<p>Añadiremos un TabLayout para que indique al usuario en qué página se encuentra:</p>
<ol type="1" start="1">
<li>Añade el TabLayout al layout del Bottom2Fragment (<sc>res/layout/fragment_bottom2.xml</sc>):<br><br>Añádelo dentro del elemento ViewPager.<br></li>
</ol>
<pre><sc>&lt;androidx.viewpager.widget.ViewPager
   android:id=&#34;@+id/viewPager&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;wrap_content&#34;&gt;

   &lt;com.google.android.material.tabs.TabLayout
       android:id=&#34;@+id/tabLayout&#34;
       android:layout_width=&#34;match_parent&#34;
       android:layout_height=&#34;wrap_content&#34;/&gt;

&lt;/androidx.viewpager.widget.ViewPager&gt;</sc></pre>
<ol type="1" start="2">
<li>Conecta el TabLayout con el ViewPager para que ambos vayan sincronizados.<br><br>En el fichero <sc>Bottom2Fragment.java</sc> añade el siguiente código en el <sc>onViewCreated()</sc>:<br></li>
</ol>
<pre><sc>TabLayout tabLayout = view.findViewById(R.id.tabLayout);
tabLayout.setupWithViewPager(viewPager);</sc></pre>
<ol type="1" start="3">
<li>Modifica el PagerAdapter para que muestre los títulos de los tabs correspondientes:<br><br>Añade el siguiente método a la clase <sc>DemoPagerAdapter</sc>:<br></li>
</ol>
<pre><sc>@Override
public CharSequence getPageTitle(int position) {
   if(position == 0) return &#34;A&#34;;
   return &#34;B&#34;;
}</sc></pre>
<p>Debería quedar así:</p>
<p><img style="width: 242.00px" src="img/7454334dbc9c2b7e.gif"><br><br><br><br><strong>NOTA</strong>: Si quieres que el TabLayout quede &#34;integrado&#34; en la AppBar, puedes cambiarle el color de fondo para que quede el mismo que la AppBar. Tendrás que eliminar la &#34;elevación&#34; (el sombreado) de la AppBar:</p>
<ol type="1" start="1">
<li>Cambia los colores del TabLayout (<sc>res/layout/fragment_bottom2.xml</sc>):<br></li>
</ol>
<pre><sc>&lt;com.google.android.material.tabs.TabLayout
   android:id=&#34;@+id/tabLayout&#34;
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;wrap_content&#34;
   android:background=&#34;?attr/colorPrimary&#34;
   app:tabTextColor=&#34;#CCC&#34;
   app:tabSelectedTextColor=&#34;#FFF&#34;/&gt;</sc></pre>
<ol type="1" start="2">
<li>Elimina la elevación de la AppBar (<sc>res/layout/activity_main.xml</sc>):<br></li>
</ol>
<pre><sc>&lt;com.google.android.material.appbar.AppBarLayout
   android:layout_width=&#34;match_parent&#34;
   android:layout_height=&#34;wrap_content&#34;
   android:theme=&#34;@style/AppTheme.AppBarOverlay&#34;
   app:elevation=&#34;0dp&#34;&gt;</sc></pre>


      </google-codelab-step>
    
      <google-codelab-step label="Práctica" duration="0">
        

      </google-codelab-step>
    
  </google-codelab>

  <script src="https://storage.googleapis.com/codelab-elements/native-shim.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/custom-elements.min.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/prettify.js"></script>
  <script src="https://storage.googleapis.com/codelab-elements/codelab-elements.js"></script>

</body>
</html>
